{"version":3,"sources":["Bulb.es6"],"names":[],"mappings":";;;;;;;;AAAA,IAAM,OAAQ,YAAY;AACtB,QAAI;AACA,sBAAY,SAAZ,EAAiF;AAAA,gBAA1D,QAA0D,uEAA/C,IAA+C;AAAA,gBAAzC,QAAyC,uEAA9B,GAA8B;;AAAA;;AAAA,gBAAzB,IAAyB,uEAAlB,CAAkB;AAAA,gBAAf,MAAe,uEAAN,IAAM;;AAAA;;AAC7E,gBAAI,KAAK,SAAL,CAAJ,EACI,YAAY,KAAK,SAAL,EAAgB,CAAhB,CAAZ;AACJ,gBAAI,KAAK,QAAL,CAAJ,EACI,WAAW,KAAK,QAAL,EAAe,CAAf,CAAX;AACJ,gBAAI,kCACC,CADD,EACK,aADL,uBAEC,GAFD,EAEO,cAFP,uBAGC,IAHD,EAGQ,eAHR,MAAJ;AAKA,iBAAK,QAAL,GAAgB,WAAW,IAA3B;AACA,iBAAK,KAAL,GAAa,EAAE,QAAF,CAAb;AACA,iBAAK,IAAL,GAAY,KAAK,OAAL,CAAa,KAAb,EAAZ;AACA,iBAAK,IAAL,CACK,GADL,CACS;AACD,8CAA4B,SAA5B;AADC,aADT,EAIK,MAJL,CAIY,IAJZ,EAIkB,KAJlB,CAIwB,IAJxB,EAKK,IALL,CAKU,QALV,EAKoB,GALpB,CAKwB,YALxB,oEAMe,QANf,2CAOe,QAPf;;AAWA,oBAAQ,MAAR;AACI,qBAAK,OAAL;AACI,yBAAK,IAAL,CAAU,GAAV,CAAc,YAAd;AACA;;AAEJ;AACI,yBAAK,IAAL,CAAU,GAAV,CAAc,YAAd,uBAA+C,MAA/C;AACA;AAPR;;AAUA,iBAAK,OAAL,GAAe,IAAf;AACA,iBAAK,KAAL,GAAa,IAAb;AACH;;AArCD;AAAA;AAAA,oCAuCQ;AAAA;;AACJ,6BAAa,KAAK,OAAlB;AACA,qBAAK,IAAL,CAAU,IAAV,CAAe,QAAf,EAAyB,WAAzB,CAAqC,KAAK,KAA1C;AACA,qBAAK,OAAL,GAAe,WAAW;AAAA,2BAAM,MAAK,IAAL,CAAU,IAAV,CAAe,QAAf,EAAyB,QAAzB,CAAkC,MAAK,KAAvC,CAAN;AAAA,iBAAX,EAAgE,EAAhE,CAAf;AACH;AA3CD;AAAA;AAAA,iCA6CK,GA7CL,EA6CU;AACN,oBAAI,QAAQ,SAAZ,EAAuB,MAAM,IAAN;AACvB,oBAAI,QAAQ,KAAK,IAAL,CAAU,IAAV,CAAe,QAAf,CAAZ;AACA,8BAAc,KAAK,KAAnB;AACA,6BAAa,KAAK,OAAlB;AACA,oBAAI,GAAJ,EAAS;AACL,0BAAM,WAAN,CAAkB,KAAK,KAAvB,EAA8B,GAA9B,CAAkC,SAAlC,EAA6C,CAA7C;AACH,iBAFD,MAEO;AACH,0BAAM,GAAN,CAAU,SAAV,EAAqB,EAArB,EAAyB,QAAzB,CAAkC,KAAK,KAAvC;AACH;AACJ;AAvDD;AAAA;AAAA,uCAyDW,GAzDX,EAyDgB;AAAA;;AACZ,oBAAI,QAAQ,SAAZ,EAAuB;AACnB,0BAAM,KAAK,QAAX;AACH;AACD,8BAAc,KAAK,KAAnB;AACA,oBAAI,GAAJ,EAAS;AACL,yBAAK,KAAL,GAAa,YAAY;AAAA,+BAAM,OAAK,KAAL,EAAN;AAAA,qBAAZ,EAAgC,GAAhC,CAAb;AACH;AACJ;AAjED;;AAAA;AAAA,OAAJ;;AAoEA,QAAI,sHAAJ;;AAMA,SAAK,OAAL,GAAe,EAAE,OAAF,CAAf;AACA,SAAK,KAAL,GAAa,CAAC,UAAD,EAAa,UAAb,CAAb;AACA,SAAK,GAAL,GAAW,CAAC,SAAD,EAAY,WAAZ,CAAX;AACA,SAAK,IAAL,GAAY,CAAC,WAAD,EAAc,YAAd,CAAZ;AACA,WAAO,IAAP;AACH,CAhFY,EAAb","file":"Bulb.js","sourcesContent":["const Bulb = (function () {\r\n    let Bulb = class {\r\n        constructor(color_off, color_on = null, duration = 0.5, size = 6, border = null) {\r\n            if (Bulb[color_off])\r\n                color_off = Bulb[color_off][0];\r\n            if (Bulb[color_on])\r\n                color_on = Bulb[color_on][1];\r\n            let m = {\r\n                [1]: \"fade-out-1s\",\r\n                [0.5]: \"fade-out-05s\",\r\n                [0.25]: \"fade-out-025s\"\r\n            };\r\n            this.duration = duration * 1000;\r\n            this.class = m[duration];\r\n            this.body = Bulb.pattern.clone();\r\n            this.body\r\n                .css({\r\n                    \"background-color\": `rgba(${color_off},1)`\r\n                })\r\n                .height(size).width(size)\r\n                .find(\".flash\").css(\"background\", `radial-gradient(ellipse at center,\r\n                    rgba(${color_on}, 1) 0%,\r\n                    rgba(${color_on}, 0.8) 2%,\r\n                    rgba(255, 255, 255, 0) 40%\r\n                )`);\r\n\r\n            switch (border) {\r\n                case \"black\":\r\n                    this.body.css(\"box-shadow\", `0px 0px 0px 1px #101010`);\r\n                    break;\r\n\r\n                default:\r\n                    this.body.css(\"box-shadow\", `0px 0px 0px 1px ${border}`);\r\n                    break;\r\n            }\r\n\r\n            this.timeout = null;\r\n            this.timer = null;\r\n        }\r\n\r\n        blink() {\r\n            clearTimeout(this.timeout);\r\n            this.body.find('.flash').removeClass(this.class);\r\n            this.timeout = setTimeout(() => this.body.find('.flash').addClass(this.class), 32);\r\n        }\r\n\r\n        turn(val) {\r\n            if (val === undefined) val = true;\r\n            let flash = this.body.find('.flash');\r\n            clearInterval(this.timer);\r\n            clearTimeout(this.timeout);\r\n            if (val) {\r\n                flash.removeClass(this.class).css(\"opacity\", 1);\r\n            } else {\r\n                flash.css(\"opacity\", \"\").addClass(this.class);\r\n            }\r\n        }\r\n\r\n        turn_blink(val) {\r\n            if (val === undefined) {\r\n                val = this.duration\r\n            }\r\n            clearInterval(this.timer);\r\n            if (val) {\r\n                this.timer = setInterval(() => this.blink(), val)\r\n            }\r\n        }\r\n    };\r\n\r\n    let pattern = `\r\n        <div class=\"bulb\">\r\n            <div class=\"flash fade-out-05s\"></div>\r\n        </div>\r\n    `;\r\n\r\n    Bulb.pattern = $(pattern);\r\n    Bulb.green = [\"0,126,51\", \"0,200,81\"];\r\n    Bulb.red = [\"204,0,0\", \"255,68,68\"];\r\n    Bulb.blue = [\"0,153,204\", \"51,181,229\"];\r\n    return Bulb;\r\n})();"]}