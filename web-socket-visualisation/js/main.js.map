{"version":3,"sources":["main.es6"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["\"use strict\";\r\n\r\nfunction formatTime(t, limit = \"ms\") {\r\n    let map = [\r\n        ['h', Math.floor(t / 360000)],\r\n        ['m', Math.floor(t / 60000) % 60],\r\n        ['s', Math.floor(t / 1000) % 60],\r\n        ['ms', t % 1000]\r\n    ];\r\n    let result = \"\";\r\n    for (let [k, v] of map) {\r\n        if (v)\r\n            result += v + k + \" \";\r\n        if (k === limit)\r\n            break;\r\n    }\r\n    if (result == \"\") result = \"0\" + limit;\r\n    return result.trim();\r\n}\r\n\r\nfunction logEvent(event) {\r\n    let table = $(\"#log\").find(\"tbody\");\r\n    table.append(event.view());\r\n}\r\n\r\nfunction randInt(min, max) {\r\n    return Math.round(Math.random() * (max - min) + min)\r\n}\r\n\r\nfunction choice(array) {\r\n    return array[randInt(0, array.length - 1)]\r\n}\r\n\r\nconst EStatus = {\r\n    IN_PROGRESS: 1,\r\n    READY_COMMIT: 2,\r\n    FAIL: 3,\r\n    TIMEOUT: 4,\r\n    COMMITTED: 5\r\n};\r\n\r\nfunction load(map) {\r\n    let objs = new Map();\r\n    $(\"[x-is]\").each(function (i) {\r\n        let self = $(this);\r\n        let id = self.attr(\"id\");\r\n        let type = self.attr(\"x-is\");\r\n\r\n        let args = self.attr(\"x-args\");\r\n        if (args)\r\n            args = JSON.parse(args);\r\n        else\r\n            args = [];\r\n        let obj = new map[type](...args);\r\n\r\n        let call = self.attr(\"x-call\");\r\n        if (call) {\r\n            let func = call, args = [];\r\n            if (call.indexOf(\",\") !== -1) {\r\n                call = call.split(\",\");\r\n                func = call[0].trim();\r\n\r\n                args = JSON.parse(call[1].trim());\r\n                if (!args.length) args = [args]\r\n            }\r\n            obj[func](...args);\r\n        }\r\n\r\n        self.replaceWith(obj.body);\r\n        objs.set(id ? id : i, obj);\r\n    });\r\n    return objs;\r\n}\r\n\r\n(function ($) {\r\n    $.fn.replaceClass = function (c1, c2) {\r\n        this.removeClass(function (index, css) {\r\n            return (css.match(`(^|\\\\s)${c1}\\\\S+`) || []).join(' ');\r\n        }).addClass(c2);\r\n        return this;\r\n    };\r\n}(jQuery));"]}